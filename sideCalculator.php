<div class="side-calculate">
  <div class="emi-box ">
    <button type="button" class="btn  emi-btn float-right" data-bs-toggle="modal" data-bs-target="#CalculateEMI">
      <i>
        <svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0  0 95 95" x="0px" y="0px" height="55px"
          width="55px">
          <path
            d="M24,32.81H68.42A2.86,2.86,0,0,0,71.29,30V20.4a2.86,2.86,0,0,0-2.87-2.86H24a2.87,2.87,0,0,0-2.86,2.86V30A2.86,2.86,0,0,0,24,32.81Zm.14-12.27H68.29v9.27H24.11Z"
            fill="white"></path>
          <path
            d="M70.27,10H22.14a8.58,8.58,0,0,0-8.57,8.56V73.82a8.58,8.58,0,0,0,8.57,8.57H61.45A13.09,13.09,0,1,0,78.83,65V18.56A8.58,8.58,0,0,0,70.27,10ZM22.14,79.39a5.58,5.58,0,0,1-5.57-5.57V18.56A5.58,5.58,0,0,1,22.14,13H70.27a5.57,5.57,0,0,1,5.56,5.56V64a12.92,12.92,0,0,0-2.5-.25,12.29,12.29,0,0,0-2,.18V54.63a3,3,0,0,0-3-3H59.64a3,3,0,0,0-3,3V71.84a3,3,0,0,0,3,3h.76a12.6,12.6,0,0,0-.18,2,12.19,12.19,0,0,0,.25,2.5Zm39.09-7.55H59.64V54.63h8.65V64.79A13.24,13.24,0,0,0,61.23,71.84Zm22.2,5a10.11,10.11,0,1,1-10.1-10.11A10.11,10.11,0,0,1,83.43,76.89Z"
            fill="white"></path>
          <circle cx="69.47" cy="73.03" r="2.32" fill="white"></circle>
          <circle cx="77.18" cy="80.75" r="2.32" fill="white"></circle>
          <path
            d="M68.73,81.49a1.53,1.53,0,0,0,1.06.44,1.57,1.57,0,0,0,1.07-.44l7.06-7.07a1.5,1.5,0,1,0-2.12-2.13l-7.07,7.08A1.51,1.51,0,0,0,68.73,81.49Z"
            fill="white"></path>
        </svg>
      </i>
      <span>Calculate EMI</span>
    </button>
    <button type="button" class="btn  emi-btn" onclick="redirectToApplyNowPage('')">
      <i><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve"
          version="1.1" viewBox="0 0 260.74 498.8" x="0px" y="0px" fill-rule="evenodd" clip-rule="evenodd" height="57px"
          width="57px">
          <g>
            <path
              d="M77.38 253.59c0,5.48 -7.16,7.52 -10.1,2.99l-28.32 -35.79c-2.86,-3.6 -6.77,-5.95 -10.88,-6.7 -7.73,-1.42 -15.38,3.11 -16.84,11.03 -0.8,4.4 0.1,9.5 2.08,14.4 7.61,18.83 18.13,37.78 28.85,57.06 7.87,14.17 15.84,28.52 22.97,43.38 8.84,18.42 24.27,31.53 42.48,39.36 14.24,6.13 30.14,9.04 45.93,8.75 15.81,-0.28 31.49,-3.74 45.3,-10.36 17.24,-8.28 31.53,-21.52 39.34,-39.68 3.82,-8.87 7.18,-17.95 9.33,-27.89 2.81,-12.97 2.19,-20.69 2.19,-33.54l0 -76.11c0,-4.79 -1.96,-9.14 -5.12,-12.3 -3.16,-3.16 -7.52,-5.13 -12.31,-5.13 -4.78,0 -9.14,1.97 -12.3,5.13 -3.16,3.16 -5.12,7.51 -5.12,12.3l0 30.03c0,3.03 -2.46,5.49 -5.49,5.49 -3.03,0 -5.49,-2.46 -5.49,-5.49l0 -30.03 0 -19.22c0,-4.78 -1.96,-9.14 -5.12,-12.3 -3.16,-3.16 -7.52,-5.12 -12.3,-5.12 -4.79,0 -9.15,1.96 -12.31,5.12 -3.16,3.16 -5.12,7.52 -5.12,12.3l0 32.09c0,3.03 -2.46,5.49 -5.49,5.49 -3.03,0 -5.49,-2.46 -5.49,-5.49l0 -32.09 0 -24.28c0,-4.79 -1.96,-9.14 -5.12,-12.3 -3.16,-3.16 -7.52,-5.13 -12.3,-5.13 -4.79,0 -9.14,1.97 -12.3,5.12 -3.16,3.16 -5.13,7.52 -5.13,12.31l0 42.16c-0.03,6.81 -10.94,7.61 -10.98,0l0 -124.83c0,-4.79 -1.96,-9.14 -5.12,-12.3 -6.78,-6.79 -17.82,-6.79 -24.6,0 -3.16,3.16 -5.12,7.51 -5.12,12.3l0 179.27zm-10.98 -15.74l0 -163.53c0,-7.82 3.19,-14.92 8.34,-20.06 11.05,-11.06 29.07,-11.05 40.12,0 5.15,5.14 8.34,12.24 8.34,20.06l0 60.27c4.82,-3.76 10.87,-6.01 17.43,-6.01 7.81,0 14.92,3.2 20.06,8.34 5.15,5.15 8.34,12.25 8.34,20.07l0 1.89c4.82,-3.76 10.87,-6.01 17.43,-6.01 7.81,0 14.92,3.2 20.06,8.34 4.47,4.47 7.46,10.41 8.18,17.01 4.84,-3.84 10.96,-6.14 17.58,-6.14 7.82,0 14.92,3.2 20.07,8.34 5.14,5.15 8.34,12.25 8.34,20.07l0 75.02c0,14.02 0.61,22.83 -2.44,36.95 -2.34,10.77 -5.92,20.47 -9.98,29.9 -8.92,20.75 -25.16,35.83 -44.71,45.21 -15.23,7.31 -32.49,11.13 -49.83,11.44 -17.35,0.31 -34.81,-2.88 -50.44,-9.61 -20.5,-8.82 -37.93,-23.7 -48.01,-44.72 -6.92,-14.42 -14.85,-28.7 -22.68,-42.78 -10.89,-19.61 -21.59,-38.87 -29.45,-58.3 -2.7,-6.68 -3.88,-13.88 -2.67,-20.45 2.55,-13.91 15.87,-22.34 29.57,-19.83 6.66,1.23 12.95,4.97 17.48,10.69l18.87 23.84z"
              fill="white"></path>
            <path
              d="M94.8 0c17.79,0 33.9,7.22 45.56,18.87 11.66,11.66 18.87,27.77 18.87,45.56 0,17.79 -7.21,33.9 -18.87,45.56 -0.75,0.74 -1.52,1.47 -2.3,2.18l0 -16.34c6.41,-8.82 10.19,-19.67 10.19,-31.4 0,-14.76 -5.99,-28.12 -15.66,-37.79 -9.67,-9.67 -23.03,-15.66 -37.79,-15.66 -14.76,0 -28.12,5.99 -37.79,15.66 -9.67,9.67 -15.66,23.03 -15.66,37.79 0,11.73 3.78,22.58 10.19,31.4l0 16.34c-0.78,-0.71 -1.55,-1.44 -2.3,-2.18 -11.65,-11.66 -18.87,-27.77 -18.87,-45.56 0,-17.79 7.22,-33.9 18.87,-45.56 11.66,-11.65 27.77,-18.87 45.56,-18.87z"
              fill="white"></path>
          </g>
        </svg></i>
      <span>Apply Now</span>
    </button>
    <button type="button" class="btn  emi-btn float-right" onclick='redirectToAnotherPage("pay-emi.php")'>
      <i><svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 95 118.75" x="0px" y="0px"
          height="50px" width="50px">
          <path
            d="M86.134,54.253,59.118,65.5c-1.757.3-4.009-.129-6.608-.627-.739-.141-1.5-.288-2.287-.423l10.919-2.789a5.756,5.756,0,0,0-1.428-11.3,40.83,40.83,0,0,0-8.3,1.033c-3.877.758-7.538,1.473-11.465.616-7.071-1.544-15.085-3.293-21.919,3.166-1.685,1.593-3.7,3.307-5.843,5.123l-.629.536a3.227,3.227,0,0,0-4.236-.474L2.372,63.821a3.229,3.229,0,0,0-.789,4.492l12.967,18.5a3.225,3.225,0,0,0,4.491.789l4.947-3.468a3.227,3.227,0,0,0,.937-4.257c2.563-1.861,4.36-2.385,5.744-1.692,3.994,2,10.536,3.478,17.074,3.866.965.057,2.116.1,3.376.1,4.269,0,9.787-.505,13.521-2.709L90.96,63.9a5.351,5.351,0,0,0,2.107-7A5.413,5.413,0,0,0,86.134,54.253Zm-63.6,27.8-4.947,3.468a.7.7,0,0,1-.963-.169L3.657,66.858a.7.7,0,0,1,.169-.963l4.948-3.468a.7.7,0,0,1,.963.169L22.7,81.092A.7.7,0,0,1,22.534,82.055ZM89.672,61.721,63.352,77.257c-6.693,3.951-23.723,2.571-31.55-1.343-2.841-1.421-5.839.072-8.322,1.873l-10.442-14.9q.393-.336.787-.67c2.164-1.838,4.209-3.574,5.943-5.213,5.861-5.54,12.866-4.011,19.639-2.532,4.439.969,8.532.169,12.491-.6a38.383,38.383,0,0,1,7.787-.986,3.172,3.172,0,0,1,3.109,2.707,3.134,3.134,0,0,1-2.279,3.61L41.76,63.992a1.267,1.267,0,0,0,.434,2.488,34.445,34.445,0,0,1,9.839.877c2.916.558,5.434,1.041,7.688.6a1.384,1.384,0,0,0,.245-.074l27.141-11.3a2.879,2.879,0,0,1,3.682,1.42A2.837,2.837,0,0,1,89.672,61.721Zm1.251-54.9H37.263A3.08,3.08,0,0,0,34.187,9.9v2.38H32.448a3.08,3.08,0,0,0-3.077,3.076v29.2a3.081,3.081,0,0,0,3.077,3.077h53.66a3.08,3.08,0,0,0,3.076-3.077v-2.38h1.739A3.08,3.08,0,0,0,94,39.093V9.9A3.081,3.081,0,0,0,90.923,6.819Zm-4.272,37.73a.55.55,0,0,1-.543.543H32.448a.55.55,0,0,1-.544-.543v-29.2a.551.551,0,0,1,.544-.543h1.739V39.093a3.08,3.08,0,0,0,3.076,3.076H86.651Zm4.816-5.456a.551.551,0,0,1-.544.543H37.263a.551.551,0,0,1-.543-.543V9.9a.55.55,0,0,1,.543-.543h53.66a.55.55,0,0,1,.544.543ZM88,17.276a5.287,5.287,0,0,1-4.461-4.46,1.267,1.267,0,0,0-1.254-1.087H45.9a1.266,1.266,0,0,0-1.254,1.087,5.287,5.287,0,0,1-4.461,4.46A1.268,1.268,0,0,0,39.1,18.53V30.458a1.267,1.267,0,0,0,1.087,1.254,5.287,5.287,0,0,1,4.461,4.461A1.267,1.267,0,0,0,45.9,37.26H82.289a1.268,1.268,0,0,0,1.254-1.087A5.287,5.287,0,0,1,88,31.712a1.266,1.266,0,0,0,1.086-1.254V18.53A1.267,1.267,0,0,0,88,17.276ZM86.557,29.442a7.859,7.859,0,0,0-5.285,5.285H46.914a7.857,7.857,0,0,0-5.285-5.285V19.547a7.857,7.857,0,0,0,5.285-5.285H81.272a7.859,7.859,0,0,0,5.285,5.285ZM64.093,14.681a9.813,9.813,0,1,0,9.814,9.813A9.824,9.824,0,0,0,64.093,14.681Zm0,17.093a7.28,7.28,0,1,1,7.281-7.28A7.288,7.288,0,0,1,64.093,31.774Zm2.742-10.526v.986a1.267,1.267,0,1,1-2.533,0v-.986a.209.209,0,0,0-.418,0v1.771a.215.215,0,0,0,.209.209,2.745,2.745,0,0,1,2.742,2.742v1.77a2.744,2.744,0,0,1-1.475,2.43v.195a1.267,1.267,0,1,1-2.533,0V30.17a2.744,2.744,0,0,1-1.476-2.43v-.986a1.267,1.267,0,0,1,2.533,0v.986a.209.209,0,0,0,.418,0V25.97a.214.214,0,0,0-.209-.209,2.745,2.745,0,0,1-2.742-2.742V21.248a2.742,2.742,0,0,1,1.476-2.429v-.2a1.267,1.267,0,1,1,2.533,0v.2A2.741,2.741,0,0,1,66.835,21.248Zm9.692,1.98H84.4a1.267,1.267,0,1,1,0,2.533H76.527a1.267,1.267,0,0,1,0-2.533Zm-23.6,1.266a1.266,1.266,0,0,1-1.266,1.267H43.792a1.267,1.267,0,1,1,0-2.533H51.66A1.266,1.266,0,0,1,52.926,24.494Z"
            fill="white"></path>
        </svg></i>
      <span>Pay EMI</span>
    </button>
    <button type="button" class="btn  emi-btn" onclick='redirectToContactUsPage()'>
      <i>
        <svg fill="currentcolor" width="50px" height="50px" viewBox="0 0 256 256" id="Flat"
          xmlns="http://www.w3.org/2000/svg">
          <path
            d="M128.00049,28A100.02594,100.02594,0,0,0,41.11475,177.53908l-9.0044,31.51661a11.99971,11.99971,0,0,0,14.835,14.834l31.5166-9.00391A100.00677,100.00677,0,1,0,128.00049,28Zm0,192a91.87082,91.87082,0,0,1-46.95264-12.86719,3.99494,3.99494,0,0,0-3.14355-.4082l-33.15723,9.47363a3.99979,3.99979,0,0,1-4.94434-4.94531l9.47266-33.15625a4.00111,4.00111,0,0,0-.4082-3.14355A92.01077,92.01077,0,1,1,128.00049,220Zm50.51123-73.457-20.45947-11.69141a12.01054,12.01054,0,0,0-12.12745.12891l-13.80664,8.28418a44.04183,44.04183,0,0,1-19.38232-19.38281l8.28369-13.80664a12.0108,12.0108,0,0,0,.12891-12.127l-11.69092-20.46A10.91584,10.91584,0,0,0,100,72a32.00811,32.00811,0,0,0-32,31.88086A84.001,84.001,0,0,0,151.999,188h.12012A32.00842,32.00842,0,0,0,184,156,10.913,10.913,0,0,0,178.51172,146.543ZM152.10791,180h-.1084A75.99972,75.99972,0,0,1,76,103.8926,23.997,23.997,0,0,1,100,80a2.89975,2.89975,0,0,1,2.51172,1.457L114.20264,101.918a4.00418,4.00418,0,0,1-.043,4.042l-9.38916,15.64844a3.9987,3.9987,0,0,0-.21826,3.69824,52.04112,52.04112,0,0,0,26.1416,26.1416,3.99707,3.99707,0,0,0,3.69873-.21875L150.04,141.84084a4.006,4.006,0,0,1,4.043-.04394l20.46045,11.69238A2.89712,2.89712,0,0,1,176,156,23.99725,23.99725,0,0,1,152.10791,180Z" />
        </svg>
      </i>
      <span>Contact Us</span>
    </button>


  </div>
  <!-- Modal -->
  <div class="modal fade" id="CalculateEMI" tabindex="-1" aria-labelledby="CalculateEMILabel" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h4>EMI Calculator</h4>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body  text-center">
          <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link active" id="BusinessLoan-tab" data-bs-toggle="tab" data-bs-target="#BusinessLoan"
                type="button" role="tab" aria-controls="BusinessLoan" aria-selected="true">Loan Against
                Property</button>
            </li>
          </ul>
          <div class="tab-pane fade show active" id="BusinessLoan" role="tabpanel" aria-labelledby="BusinessLoan-tab">
            <div class="container mt-3">
              <div class="row">
                <div class="col-md-5">
                  <div class="wrapper mb-2 ">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                      <p class="mb-0">Amount</p>
                      <div class="input-group w-fit-200">
                        <input onfocusout="setInputUsFormat()" onfocusin="setInputNormalForm()" type="text"
                          value="10,00,000" id='set-amount-loan-against-property' class="form-control form-control-sm">
                        <div class="input-group-append  d-flex">
                          <span class="input-group-text">RS </span>
                        </div>
                      </div>
                    </div>
                    <div class="range">
                      <input onchange='setInputValue(this)' id="amount-id" type="range" min="0" max="3000000"
                        value='1000000' />
                    </div>
                  </div>
                  <div class="wrapper mb-2 ">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                      <p class="mb-0">Tenure</p>
                      <div class="input-group w-fit-200">
                        <input type="text" onfocusout='setInputRangeVal(this)' value="60"
                          id='set-tenur-loan-against-propertye' class="form-control form-control-sm">
                        <div class="input-group-append d-flex">
                          <span onclick='convertMonthToYear(this)' id="month-id"
                            class="input-group-text text-white bg-dark">Mo</span>
                          <span onclick='convertMonthToYear(this)' id="year-id" class="input-group-text">Yr</span>
                        </div>
                      </div>
                    </div>
                    <div class="range">
                      <input onchange='setInputValue(this)' id="tenure-id" type="range" min="0" max="144" value='60' />
                    </div>
                  </div>
                  <div class="wrapper mb-2 ">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                      <p class="mb-0">Interest</p>
                      <div class="input-group w-fit-200">
                        <input type="text" onfocusout='setInputRangeVal(this)' value="18"
                          id='set-interest-loan-against-property' class="form-control form-control-sm">
                        <div class="input-group-append d-flex">
                          <span class="input-group-text ">% </span>
                        </div>
                      </div>
                    </div>
                    <div class="range">
                      <input onchange='setInputValue(this)' id="interest-id" type="range" min="0" max="30" value="20" />
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="h-100 rounded py-3 px-4 pt-4 bg-lights">
                    <div class='chart-details mb-3 d-flex align-items-center  text-start '>
                      <p class="fs-6 calculator-label me-3  mb-0">Principal</p>
                      <p id="principal-amt-id" class="fw-bold mb-0">2342</p>
                    </div>
                    <div class='chart-details mb-3 d-flex align-items-center  text-start '>
                      <p class="fs-6  calculator-label  me-3  mb-0">Interest</p>
                      <p id="interest-amt-id" class="fw-bold mb-0 ">2%</p>
                    </div>
                    <div class='chart-details mb-3 d-flex align-items-center  text-start '>
                      <p class="fs-6  calculator-label me-3  mb-0">Total Payable</p>
                      <p id="total-payble-amt-id" class="fw-bold mb-0">343420</p>
                    </div>
                    <div class='chart-details mb-3 d-flex align-items-center  text-start '>
                      <p class="fs-6 calculator-label  me-3  mb-0">
                        Monthly Payable
                      </p>
                      <p id="monthly-payble-amt-id" class="fw-bold mb-0">343420</p>
                    </div>
                  </div>
                </div>
                <div class="col-md-3">
                  <div>
                    <canvas id="doughnutChart" width="200" height="200"></canvas>
                  </div>
                </div>
              </div>
              <div>
                <div class="loan-details  d-flex flex-wrap flex-row w-100  mt-5 ">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>

</div>


<div class="whatsapp">
  <img src="img/whatsapp.png" alt="">
</div>
<script>

  function redirectToContactUsPage() {
    window.location.href = 'sideBarContactUs.php';
  }

  function redirectToApplyNowPage(withLoanType) {
    var encodedLoanType = encodeURIComponent(withLoanType);
    var newUrl = 'apply-now.php?loanType=' + encodedLoanType;
    window.location.href = newUrl;
  }

  function redirectToAnotherPage(page) {
    window.location.href = page;
  }

  function emiCalculator() {
    var amt_el = $('#set-amount-loan-against-property').val();
    var amount = parseFloat(amt_el.replace(/,/g, ''));

    var tenure = $('#set-tenur-loan-against-propertye').val();

    var interest = $('#set-interest-loan-against-property').val();

    var monthlyInterestRate = (interest / 12) / 100;
    var numberOfInstallments = $('#month-id').hasClass('text-white bg-dark') ? tenure : tenure * 12;

    // Calculate EMI using the formula
    var emi = (amount * monthlyInterestRate * Math.pow(1 + monthlyInterestRate, numberOfInstallments)) /
      (Math.pow(1 + monthlyInterestRate, numberOfInstallments) - 1);

    var totalPayable = emi * numberOfInstallments;

    var totalInterestPaid = totalPayable - amount;

    var totalAmountPaid = totalPayable;

    $('#principal-amt-id').text(amount.toLocaleString('en-IN') + ' ' + 'Rs.')
    $('#interest-amt-id').text(totalInterestPaid.toLocaleString('en-IN') + ' ' + 'Rs.')
    $('#total-payble-amt-id').text(totalAmountPaid.toLocaleString('en-IN') + ' ' + 'Rs.')
    $('#monthly-payble-amt-id').text(emi.toLocaleString('en-IN') + ' ' + 'Rs.')

    // var amountPaid = 5000;
    // var interestPaid = 1000;

    var doughnutConfig = {
      type: 'doughnut',
      data: {
        labels: ['Amount Paid', 'Interest Paid'],
        datasets: [{
          data: [amount, totalInterestPaid],
          backgroundColor: ['#2c2e53', '#FFCE56'],
        }]
      },
      options: {
        responsive: false,
        maintainAspectRatio: false,
        cutoutPercentage: 60, // Adjust the cutout percentage for a smaller chart
        legend: {
          display: true,
          position: 'right', // You can adjust the position as needed
          labels: {
            generateLabels: function (chart) {
              var data = chart.data;
              if (data.labels.length && data.datasets.length) {
                return data.labels.map(function (label, i) {
                  var meta = chart.getDatasetMeta(0);
                  var ds = data.datasets[0];
                  var arc = meta.data[i];
                  var value = ds.data[i];
                  var percentage = parseFloat((value / ds._meta[0].total) * 100).toFixed(2) + '%';

                  return {
                    text: label + ': ' + value + ' (' + percentage + ')',
                    fillStyle: ds.backgroundColor[i],
                    strokeStyle: '#fff',
                    lineWidth: 2,
                    hidden: isNaN(ds.data[i]) || meta.data[i].hidden,
                    index: i
                  };
                });
              } else {
                return [];
              }
            }
          }
        },
        title: {
          display: true,
          text: 'Amount and Interest Total Paid',
        },
        animation: {
          animateScale: true,
          animateRotate: true,
        },
      },
    };


    var ctx = document.getElementById('doughnutChart').getContext('2d');

    if (window.myDoughnutChart) {
      window.myDoughnutChart.destroy();
    }

    // Create the doughnut chart
    window.myDoughnutChart = new Chart(ctx, doughnutConfig);
    // Create the dough

  }

  function convertMonthToYear(el) {
    var $element = $(el);
    var id_attr = $(el).attr('id')
    if (id_attr == 'month-id') {
      if (!$element.hasClass('text-white bg-dark')) {
        $('#year-id').removeClass('text-white bg-dark')
        $element.addClass('text-white bg-dark')
        var totalMonths = parseFloat($('#set-tenur-loan-against-propertye').val()) * 12;
        console.log(totalMonths);
        $('#tenure-id').attr('min', 0);
        $('#tenure-id').attr('max', 144);
        if (totalMonths % 1 !== 0) {
          totalMonths = totalMonths.toFixed(2);
        }
        $('#tenure-id').val(totalMonths);
        $('#set-tenur-loan-against-propertye').val(totalMonths)
      }
    } else {
      if (!$element.hasClass('text-white bg-dark')) {
        $('#month-id').removeClass('text-white bg-dark')
        $element.addClass('text-white bg-dark')
        var totalYear = parseFloat($('#set-tenur-loan-against-propertye').val()) / 12;
        if (totalYear % 1 !== 0) {
          totalYear = totalYear.toFixed(2);
        }
        $('#tenure-id').attr('min', 0);
        $('#tenure-id').attr('max', 12);
        $('#tenure-id').val(totalYear);
        $('#set-tenur-loan-against-propertye').val(totalYear)
      }
    }
    emiCalculator()
  }

  function setInputRangeVal(el) {
    var idAttr = $(el).attr('id');
    if (idAttr == 'set-tenur-loan-against-propertye') {
      $('#tenure-id').val($('#set-tenur-loan-against-propertye').val());
    } else {
      $('#interest-id').val($('#set-interest-loan-against-property').val());
    }
    emiCalculator()
  }

  function setInputUsFormat() {
    var usEnVal = $('#set-amount-loan-against-property').val()
    var numericValue = parseFloat(usEnVal.replace(/,/g, ''));
    var amount = parseFloat(numericValue);
    if (!isNaN(amount)) {
      $('#amount-id').val(amount)
      var formattedNumber = amount.toLocaleString('en-IN');
      $('#set-amount-loan-against-property').val(formattedNumber);
    }
    emiCalculator()
  }

  function setInputNormalForm() {
    var inputString = $('#set-amount-loan-against-property').val();
    var numericValue = parseFloat(inputString.replace(/,/g, ''));
    if (!isNaN(numericValue)) {
      $('#set-amount-loan-against-property').val(numericValue);
    }
    emiCalculator()
  }

  function setInputValue(el) {
    var id_attr = $(el).attr('id')
    var value = $(el).val()
    id_attr == 'interest-id' ? $('#set-interest-loan-against-property').val(value) : id_attr == 'tenure-id' ? $('#set-tenur-loan-against-propertye').val(value) : $('#set-amount-loan-against-property').val(parseFloat(value).toLocaleString('en-IN'));
    emiCalculator()
  }



  function applyForLoanApplication(loanType) {
    $('#ApplynowSideNavigation').modal('show')
    $('.input-clear-cls').val('')
    $('#marital_status').val('default')
    $('#loan_status').val('Processing')
    loanType == '' ? $('#loan_type').val('default') : $('#loan_type').val(loanType)
    loanType == '' ? $('#loan_type').prop('disabled', false) : $('#loan_type').prop('disabled', true)
  }

  function submitApplication() {
    var first_name = $('#first_name').val();
    var last_name = $('#last_name').val();
    var phone = $('#phone').val();
    var email = $('#email').val();
    var loan_type = $('#loan_type').val();
    var annual_income = $('#annual_income').val();
    var birth_date = $('#birth_date').val();
    var marital_status = $('#marital_status').val();
    var address = $('#address').val();
    var present_employer = $('#present_employer').val();
    var occupation = $('#occupation').val();
    var comments = $('#comments').val();
    var loan_status = 'Processing';
    var desired_loan_amount = $('#desired_loan_amount').val();

    if (!first_name || !phone || !email || !loan_type || !desired_loan_amount || !address) {
      Swal.fire({
        text: "Please fill in all required fields. Required fields marked as *",
        icon: "error"
      });
      return; // Stop further execution if validation fails
    }

    // first_name phone email loan type desired loan amoutn address
    var requestData = {
      first_name: first_name,
      last_name: last_name,
      phone: phone,
      email: email,
      loan_type: loan_type,
      annual_income: annual_income,
      birth_date: birth_date,
      marital_status: marital_status,
      address: address,
      present_employer: present_employer,
      occupation: occupation,
      comments: comments,
      loan_status: loan_status,
      desired_loan_amount: desired_loan_amount
    };

    $.ajax({
      url: 'addUsersData.php?action=addLoanApplicant', // replace with your backend endpoint
      type: 'POST',
      data: requestData,
      success: function (response) {
        var responseJson = JSON.parse(response);
        if (responseJson.success) {
          $('.input-clear-cls').val('')
          $('#ApplynowSideNavigation').modal('hide');
          Swal.fire({
            text: "Your Loan Applicantion Has Been Successfully Added!",
            icon: "success"
          });
        } else {
          Swal.fire({
            text: responseJson.message,
            icon: "error"
          });
        }
      },
      error: function (error) {
        console.error('Error adding data:', error);
      }
    });
  }

  // function saveContactData() {
  //   var contact_id = $("#contact_id").val();
  //   var name = $("#contact-name").val();
  //   var email = $("#contact-email").val();
  //   var phone_number = $("#contact-phone_number").val();
  //   var loan_acc_number = $("#contact-loan_acc_number").val();
  //   var state = $("#contact-state").val();
  //   var city = $("#contact-city").val();
  //   var message = $("#contact-message").val();

  //   if (!name || !email || !phone_number || !loan_acc_number || !state) {
  //     Swal.fire({
  //       text: "Please fill in all required fields. Required fields marked as *",
  //       icon: "error"
  //     });
  //     return; // Stop further execution if validation fails
  //   }

  //   // first_name phone email loan type desired loan amoutn address
  //   var requestData = {
  //     name: name,
  //     email: email,
  //     phone_number: phone_number,
  //     loan_acc_number: loan_acc_number,
  //     state: state,
  //     city: city,
  //     message: message,
  //   };

  //   $.ajax({
  //     url: 'addUsersData.php?action=addContact', // replace with your backend endpoint
  //     type: 'POST',
  //     data: requestData,
  //     success: function (response) {
  //       var responseJson = JSON.parse(response);
  //       if (responseJson.success) {
  //         $('#ContactUs').modal('hide');
  //         Swal.fire({
  //           text: "Record has been successfully recorded! Thank You",
  //           icon: "success"
  //         });
  //         $('.input-clear-cls').val('')
  //       } else {
  //         Swal.fire({
  //           text: responseJson.message,
  //           icon: "error"
  //         });
  //       }
  //     },
  //     error: function (error) {
  //       console.error('Error adding data:', error);
  //     }
  //   });
  // }

</script>